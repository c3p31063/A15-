<!doctype html>
<html lang="ja"><head><meta charset="utf-8"><title>A15 チェッカー</title>
<style>
  body{font-family:system-ui;margin:40px}
  .card{border:1px solid #ddd;padding:16px;border-radius:12px;max-width:720px}
  label{display:block;margin-top:8px}
  input,textarea,select{width:100%;padding:8px;margin-top:4px}
  button{margin-top:12px;padding:8px 12px}
  .msg{color:#c00}
</style></head><body>
  <h1>A15: ガイドライン準拠チェック</h1>
  {% for m in messages %}<p class="msg">{{ m }}</p>{% endfor %}
  <div class="card">
    <form method="post" enctype="multipart/form-data">{% csrf_token %}
      <label>種別</label>{{ form.kind }}
      <label>プロンプト（任意）</label>{{ form.prompt }}
      <div id="for-image">
        <label>画像</label>{{ form.image }}
      </div>
      <div id="for-text">
        <label>テキスト</label>{{ form.text }}
      </div>
      <button type="submit">チェックする</button>
    </form>
  </div>
  <p><a href="/dashboard/">ダッシュボードへ</a></p>
  <script>
    const kind = document.querySelector('select[name="kind"]');
    const forImg = document.getElementById('for-image');
    const forTxt = document.getElementById('for-text');
    function sync(){
      if(kind.value==='image'){forImg.style.display='block';forTxt.style.display='none';}
      else{forImg.style.display='none';forTxt.style.display='block';}
    }
    kind.addEventListener('change', sync); sync();
  </script>
</body></html>
